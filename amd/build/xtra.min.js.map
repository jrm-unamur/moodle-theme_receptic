{"version":3,"sources":["../src/xtra.js"],"names":["define","$","log","init","debug","document","ready","on","event","href","currentTarget","attr","split","tab","isCtrl","isShift","keyup","e","which","keydown","hasClass","M","util","set_user_preference","toggleClass","prop","parent","remove","next","hide","children","last","show"],"mappings":"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","sourcesContent":["/**\n * Created by jmeuriss on 20/06/19.\n */\n/**\n * Created by jmeuriss on 3/02/16.\n */\n/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function($, log) {\n\n    \"use strict\";\n    return {\n        init: function() {\n            log.debug('Xtra AMD module initialized');\n\n            $(document).ready(function($) {\n                // Javascript to enable link to tab.\n                $('.linktotab').on('click', function(event) {\n                    var href = ($(event.currentTarget).attr('href'));\n                    $('.nav-tabs a[href=\"#' + href.split('#')[1] + '\"]').tab('show');\n                });\n\n                // With HTML5 history API, we can easily prevent scrolling!\n                // Activate only for passeports site.\n                /*$('.nav-tabs a').on('shown.bs.tab', function (e) {\n                    if(history.pushState) {\n                        console.log(e.target.hash);\n                        history.pushState(null, null, e.target.hash);\n                    } else {\n                        // Polyfill for old browsers.\n                        window.location.hash = e.target.hash;\n                    }\n                });*/\n\n                var isCtrl = false;\n                var isShift = false;\n                // Action on key up.\n                $(document).keyup(function(e) {\n                    if(e.which == 17) {\n                        isCtrl = false;\n                    }\n                    if(e.which == 16) {\n                        isShift = false;\n                    }\n                });\n                // Action on key down.\n                $(document).keydown(function(e) {\n                    if(e.which == 17) {\n                        isCtrl = true;\n                    }\n                    if(e.which == 16) {\n                        isShift = true;\n                    }\n                    if(e.which == 120 && isCtrl && isShift) {\n                        if($('body').hasClass('drawer-open-right')) {\n                            M.util.set_user_preference('blocks-column-open', 'false');\n                        } else {\n                            M.util.set_user_preference('blocks-column-open', 'true');\n                        }\n                        $('body').toggleClass('drawer-open-right');\n                    }\n                });\n\n                // Disable shortname, fullname and category in course edit form.\n                $('#page-course-edit:not(.format-site) #id_fullname').prop('readonly', true);\n                $('#page-course-edit:not(.format-site) #id_shortname').prop('readonly', true);\n                $('#page-course-edit:not(.format-site) #id_category').prop('readonly', true);\n\n                $('#chooserform #item_lesson').parent().parent().remove();\n                $('#chooserform input ~ span.typename:contains(\"Ubicast\")').parent().parent().remove();\n\n                $('.contactdpo').parent().parent().next().hide();\n                $('.contactdpo').parent().parent().next().next().hide();\n                $('.contactdpo').parent().parent().next().next().next().hide();\n                //$('[data-action=\"contactdpo\"]').parent().parent().next().hide();\n                //$('[data-action=\"contactdpo\"]').parent().parent().next().next().hide();\n                //$('[data-action=\"contactdpo\"]').parent().parent().next().next().next().hide();\n                //$('[data-action=\"contactdpo\"]').parent().parent().hide();\n                $('[data-action=\"contactdpo\"]').parent().parent().parent().children('li').hide();\n                $('[data-action=\"contactdpo\"]').parent().parent().parent().children('li').last().show();\n                $('#page-user-profile div.profile_tree section:nth-of-type(2n) ul').show();\n\n            });\n        }\n    };\n});\n/* jshint ignore:end */\n"],"file":"xtra.min.js"}