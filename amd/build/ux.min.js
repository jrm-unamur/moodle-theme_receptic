define(["jquery","core/log"],function(a,b){"use strict";return{init:function(c){b.debug("Theme Receptic AMD module initialized"),a(document).ready(function(a){var b=JSON.parse(c.sectionstoggle);setTimeout(function(){for(var c in b)c="#collapse-"+parseInt(c),a(c).collapse("show")},50),a(".nav-tabs a").on("shown.bs.tab",function(a){history.pushState?history.pushState(null,null,a.target.hash):window.location.hash=a.target.hash});var d=!1,e=!1;a(document).keyup(function(a){17==a.which&&(d=!1),16==a.which&&(e=!1)}),a(document).keydown(function(b){17==b.which&&(d=!0),16==b.which&&(e=!0),120==b.which&&d&&e&&(a("body").hasClass("drawer-open-right")?M.util.set_user_preference("sidepre-open","false"):M.util.set_user_preference("sidepre-open","true"),a("body").toggleClass("drawer-open-right"))}),a("#page-course-edit:not(.format-site) #id_fullname").prop("readonly",!0),a("#page-course-edit:not(.format-site) #id_shortname").prop("readonly",!0),a("#page-course-edit:not(.format-site) #id_category").prop("readonly",!0),a("body").on("click",".hideflashboxteachers",function(b){b.preventDefault();var c=b.target;a(c).parent().parent().parent().slideUp(250),M.util.set_user_preference("flashbox-teacher-hidden","true")}),a("body").on("click",".hideflashboxstudents",function(b){b.preventDefault();var c=b.target;a(c).parent().parent().slideUp(250),M.util.set_user_preference("flashbox-student-hidden","true")});var f=200,g=700;a(window).scroll(function(){a(window).scrollTop()>f?a("#back-to-top").fadeIn(g):a("#back-to-top").fadeOut(g)}),a("#back-to-top").click(function(b){return b.preventDefault(),a("html, body").animate({scrollTop:0},g),!1}),a("#nav-drawer div.media").on("click",function(b){var c=a(b.target).parent().parent().parent().attr("href");if(c.lastIndexOf("#section-")!=-1){var d=c.substring(c.lastIndexOf("#section-")+1),e="#collapse-"+d;a(e).collapse("show")}}),a("#chooserform #item_lesson").parent().parent().remove(),a(".block-myoverview").show()})}}});