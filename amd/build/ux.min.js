define ("theme_receptic/ux",["jquery","core/log","core/ajax","core/notification","core/templates"],function(a,b,c,d,e){"use strict";var f;return{init:function init(g){b.debug("Theme Receptic AMD module initialized!");a(document).ready(function(a){f=JSON.parse(g);a("body").on("click",".hideflashbox1",function(b){b.preventDefault();var c=b.target;a(c).parent().parent().parent().slideUp(250);M.util.set_user_preference("flashbox1-hidden","true")});a("body").on("click",".hideflashbox2",function(b){b.preventDefault();var c=b.target;a(c).parent().parent().parent().slideUp(250);M.util.set_user_preference("flashbox2-hidden","true")});a("body").on("click","[data-action=\"makevisible\"]",function(b){b.preventDefault();var f=b.target,g=a(f).attr("data-course-id"),h=c.call([{methodname:"theme_receptic_change_course_visibility",args:{id:g,visible:!0}}]);h[0].done(function(){a(f).parent().fadeOut(400);var b=[];b.makevisiblesuccess=!0;b.coursehidden=!1;e.render("theme_receptic/coursewarnings",b).done(function(b){a(f).parent().replaceWith(b)}).fail(d.exception)}).fail(d.exception)});var b=700;a(window).scroll(function(){if(a(window).scrollTop()>200){a("#back-to-top").fadeIn(b)}else{a("#back-to-top").fadeOut(b)}});a("#back-to-top").click(function(c){c.preventDefault();a("html, body").animate({scrollTop:0},b);return!1});a("#nav-drawer div.media").on("click",function(b){var c=a(b.target).parent().parent().parent().attr("href");if(c&&-1!=c.lastIndexOf("#section-")){var d=c.substring(c.lastIndexOf("#section-")+1);a("#collapse-"+d).collapse("show")}});if(f.pictureuploaddeactivated){var h=a("#page-user-edit #id_moodle_picture");if(h){var i=M.util.get_string("nopictureupload","theme_receptic"),j=a("#fitem_id_currentpicture").parent();a("<div class=\"alert alert-warning\"><i class=\"fa fa-exclamation-circle fa-3x fa-pull-left mr-3\"></i>"+i+"</div>").insertBefore(j);a("#fitem_id_imagefile").remove();if(!f.haspicture){a("#fitem_id_imagealt").remove()}}}})}}});
//# sourceMappingURL=ux.min.js.map
