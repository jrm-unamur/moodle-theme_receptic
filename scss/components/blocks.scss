/**
 * Handle toggle blocks functionality.
 */

// Hide blocks icon must be hidden when blocsk are displayed.
.showblocks {
    display: none;
}

.blocks-hidden {
    [data-region="blocks-column"] {
        display: none;
    }
    // Main content must take full room when blocks are hidden.
    #region-main-settings-menu.has-blocks,
    #region-main.has-blocks {
        width: 100%;
    }
    // Show blocks icon must be displayed when blocks are hidden.
    .showblocks {
        display: block;
    }
    // Hide blocks icon must be hidden when blocks are hidden.
    .hideblocks {
        display: none;
    }
}

// Add block button.
.add_block_button {

    a {
        width: 100%;
        margin-bottom: 0.5rem;
    }
}

/**
 * Blocks styling.
 */
.block-region .block {
    border-style: solid;
    border-width: 0 0 0 6px;
    border-color: $gray;

    .card-block {
        box-shadow: 1px 2px 3px 0 $gray-lighter;
        padding: 1rem .5rem;

        .block-control-actions {
            padding-right: 0.5rem;
        }
        .card-title {
            border-bottom: 1px solid $gray-lighter;
            color: $brand-success;
            font-size: 1.3rem;
            text-transform: none;
            font-weight: 500;
            padding-bottom: ($spacer/2);
            padding-left: .5rem;
        }
        .card-title:before {
            font-family: FontAwesome;
            font-size: 1rem;
            color: $gray;
            margin-right: 0.5rem;
            text-align: center;
            float: left;
            padding-top: .2rem;
        }
        h3:before {
            font-family: FontAwesome;
        }
        .content {
            padding: 4px 1rem;
            h3:before {
                content: "";
            }
        }
    }
    &.block_myoverview {
        border: none;
        .card-block {
            box-shadow: none;
        }
        h3:before {
            content: "\f1e5";
        }
        .list-group-item:first-child {
            border-radius: 0;
        }
        .list-group-item:last-child {
            border-radius: 0;
        }
    }
    &.block_calendar_month h3:before,
    &.block_calendar_upcoming h3:before {
        content: "\f073";
    }

    &.block_recent_activity h3:before {
        content: "\f017";
    }

    &.block_settings h3:before {
        content: "\f085";
    }

    &.block_glossary_random h3:before {
        content: "\f15d";
    }

    &.block_login h3:before {
        content: "\f090";
    }

    &.block_news_items h3:before {
        content: "\f0a1";
    }

    &.block_private_files h3:before {
        content: "\f07b";
    }

    &.block_admin_bookmarks h3:before {
        content: "\f02e";
    }

    &.block_messages h3:before {
        content: "\f0e0";
    }

    &.block_navigation h3:before {
        content: "\f0e8";
    }

    &.block_participants h3:before {
        content: "\f0c0";
    }

    &.block_search_forums h3:before {
        content: "\f0e6";
    }

    &.block_activity_results h3:before {
        content: "\f080";
    }

    &.block_online_users h3:before {
        content: "\f1eb";
    }

    &.block_course_overview h3:before {
        content: "\f19d";
    }

    &.block_mycobraglossary h3:before {
        content: "\f15d";
    }

    &.block_theme_selector h3:before {
        content: "\f1fc";
    }
    .minicalendarblock {
        caption {
            padding-bottom: 0;
            padding-top: 1.5rem;
        }
    }

    .minicalendar, .minicalendarblock .minicalendar.calendartable {
        td {
            border: 1px solid $gray-lighter;
        }
        .content {
            padding: 4px 0.5rem;
        }
        th > abbr[title]{
            border-bottom: 1px solid $gray-lighter;
        }
        td:nth-child(even) {
            background-color: $gray-lightest;
        }
        td.today {
            background-color: $gray-dark;
            color: $white;
            a {
                color: $white;
                font-weight: bold;
            }
            .calendar-event-panel {
                color: $gray-dark;
            }
        }
    }
    .calendar-event-panel {
        background-color: $gray-lightest;
        border: 1px solid $gray-lighter;
        .yui3-overlay-content {
            margin-bottom: 0;
        }
    }
}

/**
 * Navigation.
 */
.block_navigation,
.block_settings {
    .block_tree .tree_item {
        margin: ($spacer/2) 0;
    }
}
